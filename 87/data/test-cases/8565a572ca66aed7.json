{"uid":"8565a572ca66aed7","name":"Тест Параметров по Подуслуге","fullName":"tests.test_target#test_target_details","historyId":"c41981a67c8381062aeafaa220e74745","time":{"start":1732169724018,"stop":1732169731751,"duration":7733},"description":"Этот тест проверяет наличие на страницах подуслуг проверяемых параметров","descriptionHtml":"<p>Этот тест проверяет наличие на страницах подуслуг проверяемых параметров</p>\n","status":"failed","statusMessage":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","statusTrace":"request = <FixtureRequest for <Function test_target_details>>\nallure_subtests = AllureSubTests(ihook=<_pytest.config.compat.PathAwareHookProxy object at 0x7f67e322e990>, suspend_capture_ctx=<bound m...capture_fixture=None>>, request=<SubRequest 'allure_subtests' for <Function test_target_details>>, pytest_enabled=True)\n\n    @allure.severity(Severity.NORMAL)\n    @allure.title(\"Тест Параметров по Подуслуге\")\n    @allure.description(\n        \"Этот тест проверяет наличие на страницах подуслуг проверяемых параметров\"\n    )\n    def test_target_details(request, allure_subtests):\n        pd = count_department_services(request.config.departments)\n        for service, targets in request.config.services.items():\n            urlcopy = copy.deepcopy(Service.PageUrl[\"url\"])\n            urlcopy[\"query\"] = [{\"key\": \"id\", \"value\": service}]\n            name='name'\n            with allure_subtests.test(\n                subtest_name=f\"Проверка услуги {utils.buildurl(**urlcopy)} ({targets[name]}) {'успешна' if all([details['assert'] for target,details in targets.items() if target!=name]) else f'неуспешна, не соответствуют пункты: { {target:[detailname for detailname,detailcontent in details.items() if detailcontent==[]] for target,details in targets.items() if target!=name} }'}\"\n            ):\n                with allure.step(\n                    f\"Проверка услуги {utils.buildurl(**urlcopy)} ({targets[name]}) {'успешна' if all([details['assert'] for target,details in targets.items() if target!=name]) else f'неуспешна, не соответствуют пункты: { {target:[detailname for detailname,detailcontent in details.items() if detailcontent==[]] for target,details in targets.items() if target!=name} }'}\"\n                ):\n>                   assert all([details['assert'] for target,details in targets.items() if target!=name]), f'На странице {utils.buildurl(**urlcopy)} ({targets[name]}) не соответствуют пункты: { {target:[detailname for detailname,detailcontent in details.items() if detailcontent==[]] for target,details in targets.items() if target!=name} }'\nE                   AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nE                   assert False\nE                    +  where False = all([False])\n\ntests/test_target.py:317: AssertionError","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1732168908392,"stop":1732168908392,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"allure_subtests","time":{"start":1732169724017,"stop":1732169724018,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Этот тест проверяет наличие на страницах подуслуг проверяемых параметров","status":"failed","statusMessage":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","statusTrace":"request = <FixtureRequest for <Function test_target_details>>\nallure_subtests = AllureSubTests(ihook=<_pytest.config.compat.PathAwareHookProxy object at 0x7f67e322e990>, suspend_capture_ctx=<bound m...capture_fixture=None>>, request=<SubRequest 'allure_subtests' for <Function test_target_details>>, pytest_enabled=True)\n\n    @allure.severity(Severity.NORMAL)\n    @allure.title(\"Тест Параметров по Подуслуге\")\n    @allure.description(\n        \"Этот тест проверяет наличие на страницах подуслуг проверяемых параметров\"\n    )\n    def test_target_details(request, allure_subtests):\n        pd = count_department_services(request.config.departments)\n        for service, targets in request.config.services.items():\n            urlcopy = copy.deepcopy(Service.PageUrl[\"url\"])\n            urlcopy[\"query\"] = [{\"key\": \"id\", \"value\": service}]\n            name='name'\n            with allure_subtests.test(\n                subtest_name=f\"Проверка услуги {utils.buildurl(**urlcopy)} ({targets[name]}) {'успешна' if all([details['assert'] for target,details in targets.items() if target!=name]) else f'неуспешна, не соответствуют пункты: { {target:[detailname for detailname,detailcontent in details.items() if detailcontent==[]] for target,details in targets.items() if target!=name} }'}\"\n            ):\n                with allure.step(\n                    f\"Проверка услуги {utils.buildurl(**urlcopy)} ({targets[name]}) {'успешна' if all([details['assert'] for target,details in targets.items() if target!=name]) else f'неуспешна, не соответствуют пункты: { {target:[detailname for detailname,detailcontent in details.items() if detailcontent==[]] for target,details in targets.items() if target!=name} }'}\"\n                ):\n>                   assert all([details['assert'] for target,details in targets.items() if target!=name]), f'На странице {utils.buildurl(**urlcopy)} ({targets[name]}) не соответствуют пункты: { {target:[detailname for detailname,detailcontent in details.items() if detailcontent==[]] for target,details in targets.items() if target!=name} }'\nE                   AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nE                   assert False\nE                    +  where False = all([False])\n\ntests/test_target.py:317: AssertionError","steps":[{"name":"Прикрепить файл результатов всех проверок","time":{"start":1732169731261,"stop":1732169731502,"duration":241},"status":"passed","steps":[],"attachments":[{"uid":"c04e06cf0ac44ec5","name":"All details collection per category","source":"c04e06cf0ac44ec5.json","type":"application/json","size":27735431}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Прикрепить файл результатов проверок по органам","time":{"start":1732169731502,"stop":1732169731741,"duration":239},"status":"passed","steps":[],"attachments":[{"uid":"b5adbbe31f705cc0","name":"All details collection per department","source":"b5adbbe31f705cc0.json","type":"application/json","size":27759362}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"Прикрепить таблицу результатов проверок по органам","time":{"start":1732169731741,"stop":1732169731751,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"90a83367526cea08","name":"All details collection per department","source":"90a83367526cea08.csv","type":"text/csv","size":253288}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"allure_subtests::0","time":{"start":1732169731751,"stop":1732169731751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"severity","value":"normal"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_target"},{"name":"host","value":"fv-az1536-86"},{"name":"thread","value":"2081-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_target"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":29,"broken":3,"skipped":0,"passed":3,"unknown":0,"total":35},"items":[{"uid":"632030c4e1a5a27b","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/86//#testresult/632030c4e1a5a27b","status":"passed","time":{"start":1732160575930,"stop":1732160577298,"duration":1368}},{"uid":"683ec3071cf5fd5a","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/85//#testresult/683ec3071cf5fd5a","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","time":{"start":1731901671153,"stop":1731901678281,"duration":7128}},{"uid":"5b43a9cb36f347eb","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/84//#testresult/5b43a9cb36f347eb","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","time":{"start":1731555527400,"stop":1731555534303,"duration":6903}},{"uid":"f71e5bd130f59def","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/83//#testresult/f71e5bd130f59def","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","time":{"start":1731297601795,"stop":1731297608773,"duration":6978}},{"uid":"657b963f3d852924","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/82//#testresult/657b963f3d852924","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","time":{"start":1730951313534,"stop":1730951320597,"duration":7063}},{"uid":"406d537b9da01245","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/81//#testresult/406d537b9da01245","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","time":{"start":1730691793882,"stop":1730691801044,"duration":7162}},{"uid":"6c9ba5b849bbc728","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/80//#testresult/6c9ba5b849bbc728","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","time":{"start":1730362431746,"stop":1730362438328,"duration":6582}},{"uid":"314872338bfa9e70","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/79//#testresult/314872338bfa9e70","status":"broken","statusDetails":"KeyError: 'assert'","time":{"start":1730346065588,"stop":1730346065588,"duration":0}},{"uid":"13db140994b4439b","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/78//#testresult/13db140994b4439b","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","time":{"start":1730300674813,"stop":1730300681394,"duration":6581}},{"uid":"e70d9bbf8f760268","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/77//#testresult/e70d9bbf8f760268","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info.htm?id=7538@egService (Информирование о положении на рынке труда) не соответствуют пункты: {'12944@egServiceTarget': ['Основание для приостановления/отказа']}\nassert False\n +  where False = all([False])","time":{"start":1730292857019,"stop":1730292862130,"duration":5111}},{"uid":"dc2de702a8428356","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/76//#testresult/dc2de702a8428356","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info/targets.htm?id=12944@egServiceTarget (Информирование о положении на рынке труда в Архангельской области) не соответствуют пункты: ('Основание для приостановления/отказа',)\nassert False","time":{"start":1730097678469,"stop":1730097687811,"duration":9342}},{"uid":"f9d48963142f5a25","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/75//#testresult/f9d48963142f5a25","status":"passed","time":{"start":1730086962261,"stop":1730086962319,"duration":58}},{"uid":"8ef8bc1cc24de23","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/74//#testresult/8ef8bc1cc24de23","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info/targets.htm?id=12944@egServiceTarget (Информирование о положении на рынке труда в Архангельской области) не соответствуют пункты: ('Основание для приостановления/отказа',)\nassert False","time":{"start":1729839785533,"stop":1729839795418,"duration":9885}},{"uid":"3cafed36a85a3113","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/72//#testresult/3cafed36a85a3113","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info/targets.htm?id=12944@egServiceTarget (Информирование о положении на рынке труда в Архангельской области) не соответствуют пункты: ('Основание для приостановления/отказа',)\nassert False","time":{"start":1729781788227,"stop":1729781797799,"duration":9572}},{"uid":"ee1ba6af60fc454f","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/71//#testresult/ee1ba6af60fc454f","status":"failed","statusDetails":"AssertionError: На странице https://gosuslugi29.ru/pgu/services/info/targets.htm?id=12944@egServiceTarget (Информирование о положении на рынке труда в Архангельской области) не соответствуют пункты: ('Основание для приостановления/отказа',)\nassert False","time":{"start":1729780024003,"stop":1729780033160,"duration":9157}},{"uid":"bf373380aa0eb8d5","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/70//#testresult/bf373380aa0eb8d5","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'xpath'","time":{"start":1729778605346,"stop":1729778605346,"duration":0}},{"uid":"9a90cf91765cadde","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/64//#testresult/9a90cf91765cadde","status":"failed","statusDetails":"AssertionError: На странице 12944@egServiceTarget (Информирование о положении на рынке труда в Архангельской области) не соответствуют пункты: ('Основание для приостановления/отказа',)\nassert False","time":{"start":1729740969010,"stop":1729740977579,"duration":8569}},{"uid":"6b3abf777ff14b34","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/63//#testresult/6b3abf777ff14b34","status":"failed","statusDetails":"AssertionError: На странице 12944@egServiceTarget (Информирование о положении на рынке труда в Архангельской области) не соответствуют пункты: ('Основание для приостановления/отказа',)\nassert False","time":{"start":1729482012895,"stop":1729482020813,"duration":7918}},{"uid":"f1cd76c02ad7fcfd","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/62//#testresult/f1cd76c02ad7fcfd","status":"failed","statusDetails":"AssertionError: На странице 12944@egServiceTarget (Информирование о положении на рынке труда в Архангельской области) не соответствуют пункты: ('Основание для приостановления/отказа',)\nassert False","time":{"start":1729136123903,"stop":1729136131572,"duration":7669}},{"uid":"e449f05e2debce9f","reportUrl":"https://justfriendlyneighbor.github.io/test-gosuslugi29/61//#testresult/e449f05e2debce9f","status":"failed","statusDetails":"AssertionError: На странице 12944@egServiceTarget (Информирование о положении на рынке труда в Архангельской области) не соответствуют пункты: ('Основание для приостановления/отказа',)\nassert False","time":{"start":1729079292232,"stop":1729079299863,"duration":7631}}]},"tags":[]},"source":"8565a572ca66aed7.json","parameterValues":[]}